# ê°œìš”

ê°œë°œìëŠ” í•­ìƒ ê¸°ëŠ¥ì„ ë§Œë“ ë‹¤.

ê²°êµ­ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²Œ ìš°ë¦¬ì˜ ì¼ì¸ë° ì´ëŸ¬í•œ í•¨ìˆ˜ë¥¼ ì˜ ì‘ì„±í•˜ëŠ” ë²•ì„ ì•Œì•„ë³´ì.

# 1. SOLID ë€?

## SOLID ì›ì¹™

> ê°ì²´ì§€í–¥ì˜ ì„¤ê³„ 5ì›ì¹™ìœ¼ë¡œ 
> 
> í•­ìƒ ì½”ë“œë¥¼ ì§œë©´ì„œ ì´ **SOLID ì›ì¹™**ì„ ìƒê°í•´ì£¼ë©´ì„œ ì§œëŠ” ìŠµê´€ì„ ë“¤ì—¬ì•¼í•œë‹¤.

- SRP ë‹¨ì¼ ì±…ì„ ì›ì¹™
- OCP ê°œë°©-íì‡„ ì›ì¹™
- LSP ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™
- ISP ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™
- DIP ì˜ì¡´ì„± ì—­ì „ ì›ì¹™

---

## SRP ë‹¨ì¼ ì±…ì„ ì›ì¹™

> í•œ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì ¸ì•¼ í•œë‹¤.

í´ë˜ìŠ¤ëŠ” `í•˜ë‚˜ì˜ ê¸°ëŠ¥`ë§Œ ê°€ì§€ë©°, ì–´ë–¤ ë³€í™”ì— ì˜í•´ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ì˜¤ì§ í•˜ë‚˜ë¿ì´ì–´ì•¼ í•œë‹¤.

SRP ì±…ì„ì´ ë¶„ëª…í•´ì§€ê¸° ë•Œë¬¸ì—, ë³€ê²½ì— ì˜í•œ ì—°ì‡„ì‘ìš©ì—ì„œ ììœ ë¡œì›Œì§ˆ ìˆ˜ ìˆë‹¤.

**ê°€ë…ì„± í–¥ìƒê³¼ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•´ì§„ë‹¤.**

```
í•œ í´ë˜ìŠ¤ê°€ ìƒì„±ë„ í•˜ê³ , íŒë³„ë„ í•˜ê³ , ê³„ì‚°ë„ í•˜ëŠ” ë“± ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì´ ë“¤ì–´ ìˆë‹¤ë©´ ì˜ì¡´ì„±ì´ ë†’ì•„ì§ˆ ê²ƒì´ë‹¤.

ì´ëŸ¬í•œ ì˜ì¡´ì„±ì´ ë†’ì•„ì§€ë©´ ìœ ì§€ë³´ìˆ˜ë„ ì¢‹ì§€ ì•Šê³  ê°€ë…ì„±ì´ ë–¨ì–´ì§€ëŠ” ë“± ì¢‹ì€ ì½”ë“œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.
```

---

## OCP ê°œë°©-íì‡„ ì›ì¹™

> ì†Œí”„íŠ¸ì›¨ì–´ ìš”ì†ŒëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆìœ¼ë‚˜ ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼í•œë‹¤.

ë³€ê²½ì„ ìœ„í•œ ë¹„ìš©ì€ ê°€ëŠ¥í•œ ì¤„ì´ê³ , `í™•ì¥`ì„ ìœ„í•œ ë¹„ìš©ì€ ê°€ëŠ¥í•œ ê·¹ëŒ€í™” í•´ì•¼ í•œë‹¤.

ìš”êµ¬ì‚¬í•­ì˜  ë³€ê²½ì´ë‚˜ ì¶”ê°€ì‚¬í•­ì´ ë°œìƒí•˜ë”ë¼ë„, ê¸°ì¡´ êµ¬ì„±ìš”ì†Œì—ëŠ” ìˆ˜ì •ì´ ì¼ì–´ë‚˜ì§€ì•Šê³ , ê¸°ì¡´ êµ¬ì„± ìš”ì†Œë¥¼ ì‰½ê²Œ `í™•ì¥í•´ì„œ ì¬ì‚¬ìš©`í•œë‹¤.

**ê°ì²´ì§€í–¥ì˜ ì¶”ìƒí™”ì™€ ë‹¤í˜•ì„±ì„ í™œìš©í•œë‹¤.**

```
a, b, c ê¸°ëŠ¥ì„ ê°€ì§„ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ì—¬ ê¸°ëŠ¥ dë¥¼ ì¶”ê°€í–ˆë‹¤.

ê·¼ë° ì‹¤ì œë¡œ ì‚¬ìš©í•œ ê¸°ëŠ¥ì´ a, c, dê°€ ë˜ì—ˆë‹¤ !! ğŸ˜¡

ì¢‹ì€ ì½”ë“œë¼ë©´ ê¸°ì¡´ êµ¬ì„±ìš”ì†Œì—ëŠ” ìˆ˜ì • ì—†ì´ ê¸°ëŠ¥ a, b, c, d ëª¨ë‘ ì˜ ë™ì‘í•  ê²ƒì´ë‹¤.
```

---

## LSP ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™

> ì„œë¸Œ íƒ€ì…ì€ ì–¸ì œë‚˜ê¸°ë°˜ íƒ€ì…ìœ¼ë¡œ êµì²´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

ì„œë¸Œ íƒ€ì…ì€ ê¸°ë°˜ íƒ€ì…ì´ ì•½ì†í•œ ê·œì•½(ì ‘ê·¼ì œí•œì,ì˜ˆì™¸ í¬í•¨)ì„ ì§€ì¼œì•¼ í•œë‹¤.

í´ë˜ìŠ¤ ìƒì†, ì¸í„°í˜ì´ìŠ¤ ìƒì†¡ì„ ì´ìš©í•´ `í™•ì¥ì„±`ì„ íšë“í•œë‹¤.

ë‹¤í˜•ì„±ê³¼ í™•ì¥ì„±ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•´ `ì¸í„°í˜ì´ìŠ¤`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤.

í•©ì„±(composition)ì„ ì´ìš©í•  ìˆ˜ë„ ìˆë‹¤.

```
ë¶€ëª¨ AëŠ” ìŠ¤íŒ¸ì„ ì‚¬ì˜¤ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.
ë¶€ëª¨ Aê°€ ìì‹ aë¥¼ ê°€ì§€ê²Œ ëëŠ”ë°

ìì‹ aì—ê²Œ ë˜‘ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê²Œ í–ˆë”ë‹ˆ
ë¬´ë ¤ ëŸ°ì²œë¯¸íŠ¸ë¥¼ ì‚¬ì˜¤ëŠ” ì‚¬íƒœê°€ ì¼ì–´ë‚œë‹¤. ğŸ¤”

ë¶€ëª¨ë‘ êµì²´ê°€ ëœë‹¤ê³  í•˜ì—¬ë„ ì œëŒ€ë¡œ ìŠ¤íŒ¸ì„ ì‚¬ì™€ì•¼ í•œë‹¤.
```

---

## ISP ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™

> ìì‹ ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ëŠ” êµ¬í˜„í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤.

ê°€ëŠ¥í•œ ìµœì†Œí•œì˜ ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„í•œë‹¤.

ë§Œì•½ ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì—¬ëŸ¬ ê°œê³ , ì´ë“¤ì´ í´ë˜ìŠ¤ì˜ íŠ¹ì • ë¶€ë¶„ë§Œ ì´ìš©í•œë‹¤ë©´, ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ë¡œ ë¶„ë¥˜í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì „ë‹¬í•œë‹¤.

SRPê°€ í´ë˜ìŠ¤ì˜ ë‹¨ì¼ ì±…ì„ì´ë¼ë©´, ISPëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ë‹¨ì¼ ì±…ì„

```
ì„¤ëª…í•˜ìë©´

ê¸°ëŠ¥ a, b, cë¥¼ ê°€ì§€ê³  ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ Aê°€ ìˆê³ 

x, yê°€ Aë¥¼ ìƒì† ë°›ì•˜ì„ ë•Œ

x, yëŠ” ê¸°ëŠ¥ì´ a, b, c ë“±ì´ ìˆì„ ê²ƒì´ë‹¤.

ê·¼ë° !!!

xëŠ” ì‹¤ì œë¡œ ìƒì† ë°›ì•„ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ aë§Œ ì‚¬ìš©í•˜ê³ 
yëŠ” ì‹¤ì œë¡œ ìƒì† ë°›ì•„ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì€ cë°–ì— ì—†ë‹¤.

ì´ëŸ´ ë•Œ í•„ìš” ì—†ëŠ” ê¸°ëŠ¥ë„ x, yì— ë“¤ì–´ê°€ê²Œ ë˜ë¯€ë¡œ

ê¸°ëŠ¥ aë¥¼ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤ X
ê¸°ëŠ¥ cë¥¼ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤ Y ë¥¼ ë§Œë“¤ì–´

x implements X
y implements Y ë¡œ ì¨ì„œ í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•œë‹¤.
```

---

## DIP ì˜ì¡´ì„± ì—­ì „ ì›ì¹™

> ìƒìœ„ ëª¨ë¸ì€ í•˜ìœ„ ëª¨ë¸ì— ì˜ì¡´í•˜ë©´ ì•ˆëœë‹¤. ë‘˜ ë‹¤ *ì¶”ìƒí™”`ì— ì˜ì¡´í•´ì•¼ í•œë‹¤.
>
> ì¶”ìƒí™”ëŠ” ì„¸ë¶€ ì‚¬í•­ì— ì˜ì¡´í•´ì„œëŠ” ì•ˆëœë‹¤. ì„¸ë¶€ì‚¬í•­ì€ ì¶”ìƒí™”ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.

í•˜ìœ„ ëª¨ë¸ì˜ ë³€ê²½ì´ ìƒìœ„ ëª¨ë“ˆì˜ ë³€ê²½ì„ ìš”êµ¬í•˜ëŠ” ìœ„ê³„ ê´€ê³„ë¥¼ ëŠëŠ”ë‹¤.

ì‹¤ì œ ì‚¬ìš©ê´€ê³„ëŠ” ê·¸ëŒ€ë¡œì´ì§€ë§Œ, ì¶”ìƒí™”ë¥¼ ë§¤ê°œë¡œ ë©”ì‹œì§€ë¥¼ ì£¼ê³  ë°›ìœ¼ë©´ì„œ ê´€ê³„ë¥¼ ëŠìŠ¨í•˜ê²Œ ë§Œë“ ë‹¤.

```
ë‚ ì•„ë‹¤ë‹ ìˆ˜ ìˆëŠ” ê°•ì•„ì§€ë¥¼ ë¶„ì–‘ ë°›ì•˜ëŠ”ë°

ìˆ˜ì˜í•  ìˆ˜ ìˆëŠ” ê°•ì•„ì§€ë¡œ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ

ë¶„ì–‘ë°›ì€ ê°•ì•„ì§€ ìì²´ë¥¼ ë°”ê¾¸ëŠ” ê²ƒì´ ì•„ë‹Œ

ë‚ ê°œë¥¼ ë•Œê³  ì†ì— ë¬¼ê°ˆí€´ë¥¼ ë‹¬ì•„ì£¼ëŠ” ê²ƒ ì²˜ëŸ¼ ê´€ê³„ë¥¼ ëŠìŠ¨í•˜ê²Œ ë§Œë“ ë‹¤.
```

### ì˜ˆì‹œ)

ì¹´ë“œ ê²°ì œ, ê³„ì¢Œì´ì²´ ê²°ì œë¥¼ í•˜ë‚˜í•˜ë‚˜ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹Œ ê²°ì œ interfaceì²˜ëŸ¼ ì¶”ìƒí™”ëœ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë„ë¡í•˜ëŠ” ì˜ˆì‹œê°€ ìˆë‹¤.


```java
ğŸ˜¡ í™•ì¥í•˜ê¸° ì‹«ê²Œ ìƒê²¼ë‹¤. -> ìœ ì—°í•˜ì§€ ì•Šë‹¤.

@RequestMapping(value = "/api/payment", method = RequestMethod.POST)
public void pay(@RequestBody PaymentDto.PaymentRequest req) {
    if(req.getType() == PayType.CARD) {
        cardPaymentService.pay(req);
    } else if (req.getType() == PayType.ACCOUNT) {
        accountPaymentService.pay(req);
    }
}
```

```java
ğŸ˜‹ ì•„ì£¼ ì½”ë“œ ë§›ì§‘ì´ë‹¤.
ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ Card, Accountê°€ ìƒì†ë°›ê³  Factoryë¥¼ í†µí•˜ì—¬ Typeì— ë§ëŠ” ê²ƒì„ ë¶ˆëŸ¬ì˜¨ë‹¤.
ìƒì„±ëœ Serviceë¡œ pay ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ê²°ì œí•œë‹¤ !!

class PaymentController {
    @RequestMapping(value = "/api/payment", method = RequestMethod.POST)
    public void pay(@RequestBody PaymentDto.PaymentRequest req) {

        final PaymentService paymentService = paymentFactory.getType(req.getType());
        paymentService.pay(req);
    }
}

public interface PaymentService {
    void pay(PaymentDto.PaymentRequest req);
}

public class CardPaymentService implements PaymentService {

    @Override
    public void pay(PaymentDto.paymentRequest req) {
        cardApi.pay(req);
    }
}
```



# 2. ê°„ê²°í•œ í•¨ìˆ˜ ì‘ì„±í•˜ê¸°

## SRP, OCP

> í•¨ìˆ˜ë¥¼ ì‘ê²Œ ìª¼ê°œì„œ í•¨ìˆ˜ ë‚´ `ì¶”ìƒí™” ìˆ˜ì¤€`ì„ ë™ì¼í•˜ê²Œ ë§ì¶˜ë‹¤.

í•œ ê³³ì—ì„œ ê³„ì‚°, ìƒì„±ê¹Œì§€ ë‘ ê°€ì§€ ê¸°ëŠ¥ì„ í•œë‹¤ë©´ í™•ì¥ì„±ì´ ì¢‹ì§€ ì•Šë‹¤.

ìœ„ì— í™•ì¥í•˜ê¸° ì‹«ì–´ë³´ì´ëŠ” ì½”ë“œ (ğŸ˜¡)ì—ì„œ ê³„ì‚°í•˜ëŠ” ë°©ë²•ì— ì¹´ë“œ, ê³„ì¢Œì´ì²´ê°€ ìˆë‹¤ê³  í–ˆì„ ë•Œ ê³„ì‚° íƒ€ì…ì— í˜„ê¸ˆì´ ì¶”ê°€ ëœë‹¤ë©´? 

ì½”ë“œê°€ ë§¤ìš° ë³µì¡í•´ì§„ë‹¤.

í•˜ì§€ë§Œ

ì•„ë˜ ì½”ë“œ ë§›ì§‘(ğŸ˜‹)ì²˜ëŸ¼ 

- ê³„ì‚°ê³¼ íƒ€ì…ê´€ë¦¬ë¥¼ ë¶„ë¦¬í•˜ê³ 
- íƒ€ì…ì— ëŒ€í•œ ì²˜ë¦¬ëŠ” ìµœëŒ€í•œ Factoryì—ì„œë§Œ ì²˜ë¦¬í•´ì¤˜ì„œ ì²˜ë¦¬í•´ì¤€ë‹¤.

## í•¨ìˆ˜ ì¸ìˆ˜

> ì¸ìˆ˜ì˜ ê°¯ìˆ˜ëŠ” 0 ~ 2ê°œê°€ ì ë‹¹ !!

- ê°ì²´ë¥¼ ì¸ìë¡œ ë„˜ê²¨ë³´ì.

```java
// ê°ì²´ë¥¼ ì¸ìë¡œ ë„˜ê¸°ê¸°
Circle makeCircle(double x, double y, double radius); // ğŸ˜¡
Circle makeCircle(Point center, double radius); // ğŸ’â€â™‚ï¸ ê°ì²´ë¥¼ ì¸ìë¡œ ë„˜ê¸°ë‹ˆ ë„ˆë¬´ ëˆˆì— ì˜ ë“¤ì–´ì˜¤ëŠ”êµ¬ë§Œ !
```

## ë¶€ìˆ˜ íš¨ê³¼ (Side Effect) ì—†ëŠ” í•¨ìˆ˜

> Side Effect : ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ê°€ `ì™¸ë¶€ ìƒíƒœ`ë¥¼ ë³€ê²½í•˜ëŠ” ê²½ìš°

í•¨ìˆ˜ì™€ ê´€ê³„ ì—†ì´ ë¹„ë°€ë²ˆí˜¸ê°€ ë§ì„ ê²½ìš° Sessionì„ initialize()í•´ë²„ë¦°ë‹¤.

ì´ëŸ° ê²½ìš°ëŠ” initialize()í•œë‹¤ëŠ” ê²ƒì„ í•¨ìˆ˜ëª…ì— ì¨ì£¼ê±°ë‚˜ ì•„ì˜ˆ ë”°ë¡œ ëº´ì¤˜ì•¼ í•œë‹¤.

```java
public class UserLogin {
    
    public boolean checkPassword(String userName, String password) {
        User user = UserGateway.findByName(userName);
        if (user != User.NULL) {
            if ("Valid Password".equals(password)) {
                Session.initialize(); // ğŸ˜¡
                return true;
            }
        }
        return false;
    }
}
```

# í•¨ìˆ˜ ë¦¬íŒ©í„°ë§ (Simple Flow)

1. ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” í•¨ìˆ˜ ì‘ì„±
    - ê¸¸ê³ , ë³µì¡, ì¤‘ë³µë„ ìˆë‹¤.

2. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
    - í•¨ìˆ˜ ë‚´ë¶€ì˜ ë¶„ê¸°ì™€ ì—£ì§€ê°’ë§ˆë‹¤ ë¹ ì§ì—†ì´ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì½”ë“œë¥¼ ì§ ë‹¤.

3. ë¦¬íŒ©í„°ë§ í•œë‹¤.
    - ì½”ë“œë¥¼ ë‹¤ë“¬ê³ , í•¨ìˆ˜ë¥¼ ìª¼ê°œê³ , ì´ë¦„ì„ ë°”ê¾¸ê³ , ì¤‘ë³µì„ ì œê±°í•œë‹¤.