
# Chap01 Step01

![애플리케이션 핵심 클래스](image/chap01_step01.png)

문제점

- `관람객과 판매원이 소극장의 통제를 받는다.`
  - 관람객
    - 소극장이 관람객의 가방을 마음대로 열어본다.
  - 판매원
    - 소극장이 매표소에 보관중인 티켓과 현금에 마음대로 접근한다.
- `이해 가능한 코드가 아니다.`
  - 동작이 예상을 크게 벗어난다.
  - 우리의 상식과 다르다.
    - 소극장이 직접 자동으로 관람객의 가방을 열어서 티켓을 꺼내 판매원에게 지불한다.
    - 소극장이 직접 자동으로 매표소에 있는 티켓을 꺼내 관람객에게 건내고 돈을 받아 보관한다.
  - 즉, 코드를 읽는 사람과 제대로 의사소통하기 어려운 코드다.
- `변경에 취약하다.`
  - 관람객이 현금과 초대장을 보관하기 위해 "항상 가방을 들고 다닌다."
    - 가방을 들고 있지 않은 관람객
    - 신용카드로 결제하는 관람객
    - 요구사항이 늘어날 시에 코드가 깨진다.
  - 의존성 문제
    - Theater가 지나치게 세부적인 사실에 의존한다.
    - Audience의 내부에 대해 많이 알고 있다.

<br>

# Chap01 Step02

- `문제 이해`
  - Theater가 관람객의 가방과 판매원의 매표소에 직접 접근한다.
    - Theater가 Audience와 TicketSeller에 결합된다는 것을 의미한다.
- `해결 방법`
  - 관람객이 가방을 가지고 있다는 사실
  - 판매원이 매표소에서 티켓을 판매한다는 사실
  - 두 사실을 Theater가 알지 못하도록 정보를 차단하면 된다.
  - `즉, 관람객과 판매원을 자율적인 존재로 만든다.`
    - `관람객`
      - 스스로 가방 안의 현금과 초대장을 처리한다.
    - `판매원`
      - 스스로 매표소의 티켓과 판매 요금을 다룬다.

